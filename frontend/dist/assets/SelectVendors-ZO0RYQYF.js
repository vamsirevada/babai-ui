import{r as n,u as w,o as v,j as e}from"./index-CfNFHx42.js";import{B as p}from"./button-IV1FBFhl.js";import{C as m}from"./check-ClNAyS-3.js";const S=n.memo(()=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-brand-charcoal to-brand-charcoal/90 rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-brand-white font-bold text-sm font-heading",children:"B"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-gradient-to-br from-brand-charcoal/80 to-brand-charcoal rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-brand-white text-xs font-bold font-heading",children:"ai"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-brand-charcoal font-heading",children:"bab.ai"}),e.jsx("p",{className:"text-xs sm:text-sm text-brand-charcoal/70 font-body",children:"Vendor Selection"})]})]})),C=()=>{var u,f;const i=w(),[a,d]=n.useState(new Set([])),[o,x]=n.useState(!1),[t,j]=n.useState(null);v.useEffect(()=>{const s=localStorage.getItem("orderData");if(s)try{j(JSON.parse(s));const{customerInfo:r,...l}=t;console.log(t),console.log("hi")}catch(r){console.error("Error parsing order data:",r)}},[]);const c=[{id:1,name:"ABC Supplies",specialties:["Cement","Concrete Blocks"],type:"Distributor",rating:4.2,reviewCount:156,isAuthorized:!1},{id:2,name:"BuildMart",specialties:["Steel Bars","Sand","Cement"],type:"Retailer",rating:4.5,reviewCount:289,isAuthorized:!1},{id:3,name:"StrongStone",specialties:["Concrete Blocks","Cement"],type:"Authorized",rating:4.7,reviewCount:124,isAuthorized:!0},{id:4,name:"Urban Hardware",specialties:["Steel Bars","River Sand"],type:"Retailer",rating:4.3,reviewCount:203,isAuthorized:!1},{id:5,name:"ProBuild",specialties:["Cement","Steel Bars"],type:"Authorized Vendor",rating:4.6,reviewCount:87,isAuthorized:!0}],h=n.useCallback(s=>{d(r=>{const l=new Set(r);return l.has(s)?l.delete(s):l.add(s),l})},[]),N=n.useCallback(()=>{a.size===c.length?d(new Set):d(new Set(c.map(s=>s.id)))},[a.size,c.length]),y=n.useCallback(async()=>{if(a.size===0){alert("Please select at least one vendor");return}x(!0);try{await new Promise(r=>setTimeout(r,1500));const s=c.filter(r=>a.has(r.id));i("/quote-confirmation",{state:{orderData:t,selectedVendors:s}})}catch(s){console.error("Error submitting to vendors:",s),alert("Failed to submit order. Please try again.")}finally{x(!1)}},[a,c,i,t]),b=n.useCallback((s,r,l=!1)=>s?e.jsxs("div",{className:`flex items-center ${l?"gap-1":"gap-2"}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s}),[...Array(5)].map((z,g)=>e.jsx("svg",{className:`${l?"w-3 h-3":"w-4 h-4"} ${g<Math.floor(s)?"text-brand-accent":"text-brand-charcoal/30"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},g))]}),e.jsxs("span",{className:"text-brand-charcoal/70 text-xs font-body",children:["(",r," reviews)"]})]}):null,[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-white to-brand-charcoal/5",children:[e.jsx("div",{className:"bg-brand-white border-b border-brand-charcoal/20 sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-brand-charcoal rounded-full",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-brand-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.484 3.488"})})}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-brand-charcoal font-body",children:((u=t==null?void 0:t.customerInfo)==null?void 0:u.name)||"Customer"}),e.jsx("div",{className:"text-xs text-brand-charcoal/70 font-body",children:((f=t==null?void 0:t.customerInfo)==null?void 0:f.phone)||"Phone"})]})]})]})})}),e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 2xl:px-16 py-4 sm:py-6 transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"text-center mb-6 sm:mb-8",children:e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-brand-charcoal mb-2 font-heading",children:"Select Vendors"})}),e.jsxs("div",{className:"bg-brand-white rounded-lg sm:rounded-xl shadow-sm border border-brand-charcoal/20 p-4 sm:p-6 mb-6 sm:mb-8 transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"flex items-center gap-3 mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-brand-charcoal/20",children:e.jsxs("button",{onClick:N,className:"flex items-center gap-3 text-left w-full py-2",children:[e.jsx("div",{className:`w-5 h-5 sm:w-5 sm:h-5 rounded border-2 flex items-center justify-center transition-colors ${a.size===c.length?"bg-brand-charcoal border-brand-charcoal text-brand-white":"border-brand-charcoal/30 hover:border-brand-charcoal/50"}`,children:a.size===c.length&&e.jsx(m,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-base sm:text-lg font-medium text-brand-charcoal font-body",children:"Select All"})]})}),e.jsx("div",{className:"space-y-4",children:c.map(s=>e.jsxs("div",{className:"border border-brand-charcoal/20 rounded-lg hover:border-brand-charcoal/30 transition-colors",children:[e.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>h(s.id),className:"mt-1",children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${a.has(s.id)?"bg-brand-charcoal border-brand-charcoal text-brand-white":"border-brand-charcoal/30 hover:border-brand-charcoal/50"}`,children:a.has(s.id)&&e.jsx(m,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-brand-charcoal text-lg font-body",children:s.name}),s.type&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.isAuthorized?"bg-gray-200 text-gray-800 border border-gray-300":"bg-gray-100 text-gray-600"}`,children:s.type})]}),e.jsx("p",{className:"text-brand-charcoal/70 text-sm mb-2 font-body",children:s.specialties.join(", ")}),e.jsx("div",{className:"flex items-center",children:b(s.rating,s.reviewCount,!0)})]})]})}),e.jsxs("div",{className:"hidden sm:flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("button",{onClick:()=>h(s.id),className:"flex items-center gap-3",children:e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${a.has(s.id)?"bg-brand-charcoal border-brand-charcoal text-brand-white":"border-brand-charcoal/30 hover:border-brand-charcoal/50"}`,children:a.has(s.id)&&e.jsx(m,{className:"w-3 h-3"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-brand-charcoal text-lg font-body",children:s.name}),s.type&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s.isAuthorized?"bg-gray-200 text-gray-800 border border-gray-300":"bg-gray-100 text-gray-600"}`,children:s.type})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.specialties.join(", ")})]})]}),e.jsx("div",{className:"flex items-center",children:b(s.rating,s.reviewCount,!1)})]})]},s.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sticky bottom-0 bg-gray-50 py-3 -mx-3 px-3 border-t border-gray-200 sm:border-t-0 sm:bg-transparent sm:relative sm:py-0 sm:mx-0",children:[e.jsx(p,{variant:"outline",className:"flex-1 h-11 sm:h-12 text-base sm:text-lg",onClick:()=>i(-1),disabled:o,children:"Back"}),e.jsx(p,{onClick:y,disabled:o||a.size===0,className:"flex-1 bg-brand-charcoal hover:bg-brand-charcoal/90 text-brand-white h-11 sm:h-12 text-base sm:text-lg font-medium font-body",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):"Submit"})]}),a.size>0&&e.jsx("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-brand-white border border-brand-primary rounded-lg",children:e.jsxs("p",{className:"text-brand-charcoal text-sm",children:[a.size," vendor",a.size!==1?"s":""," selected"]})})]})]})},$=n.memo(C);export{$ as default};
