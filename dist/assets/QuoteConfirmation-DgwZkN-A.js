import{r as c,j as e,u as C,q as S}from"./index-BHURRM6w.js";import{B as g}from"./button-C1ga0Qq9.js";import{C as r}from"./card-CWfKKsYj.js";import{C as d}from"./check-Dbgt_7_n.js";import{M as y}from"./message-circle-mQ6khueF.js";import{A as I}from"./arrow-left-vUeY1sAh.js";const k=c.memo(()=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-functional-success to-functional-success/90 rounded-xl flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-brand-white font-bold text-sm font-heading",children:"B"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-gradient-to-br from-functional-success/80 to-functional-success rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-brand-white text-xs font-bold font-heading",children:"ai"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-brand-charcoal font-heading",children:"bab.ai"}),e.jsx("p",{className:"text-xs sm:text-sm text-brand-charcoal/70 font-body",children:"Quote Requested"})]})]})),B=()=>{var h,b,f,u,j;const o=C(),i=S(),[s,m]=c.useState(null),[n,x]=c.useState([]),[v,w]=c.useState(!0);c.useEffect(()=>{const t=i.state,a=localStorage.getItem("orderData");t?(m(t.orderData||JSON.parse(a)),x(t.selectedVendors||[])):a&&(m(JSON.parse(a)),x([])),w(!1)},[i]);const q=()=>{var l,p,N;localStorage.removeItem("orderData");const t=encodeURIComponent(`âœ… Quote request submitted successfully!

Order ID: ${(s==null?void 0:s.request_id)||"BAB"+Date.now()}
Items: ${((l=s==null?void 0:s.items)==null?void 0:l.length)||0}
Vendors: ${n.length}

We'll notify you once quotes are received.`),a=`https://wa.me/${(N=(p=s==null?void 0:s.customerInfo)==null?void 0:p.whatsappPhone)==null?void 0:N.replace(/\D/g,"")}?text=${t}`;window.open(a,"_blank"),o("/")};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-brand-white to-functional-success/5",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-functional-success border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-brand-charcoal font-body",children:"Loading confirmation..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-white to-functional-success/5",children:[e.jsx("div",{className:"bg-brand-white border-b border-brand-charcoal/20 sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-functional-success rounded-full",children:e.jsx(d,{className:"w-4 h-4 sm:w-5 sm:h-5 text-brand-white"})}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-brand-charcoal font-body",children:((h=s==null?void 0:s.customerInfo)==null?void 0:h.name)||"Customer"}),e.jsx("div",{className:"text-xs text-brand-charcoal/70 font-body",children:"Quote Requested"})]})]})]})})}),e.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-10",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-functional-success rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"w-8 h-8 sm:w-10 sm:h-10 text-brand-white"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-brand-charcoal mb-2 font-heading",children:"Quote Request Submitted!"}),e.jsx("p",{className:"text-brand-charcoal/70 text-base sm:text-lg font-body max-w-2xl mx-auto",children:"Your request has been sent to selected vendors. You'll receive quotes on WhatsApp shortly."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-8",children:[e.jsxs(r,{className:"p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-brand-charcoal mb-4 font-heading",children:"Order Details"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-brand-charcoal/10",children:[e.jsx("span",{className:"text-brand-charcoal/70 font-body",children:"Order ID:"}),e.jsx("span",{className:"font-medium text-brand-charcoal font-body",children:(s==null?void 0:s.request_id)||"BAB"+Date.now()})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-brand-charcoal/10",children:[e.jsx("span",{className:"text-brand-charcoal/70 font-body",children:"Items:"}),e.jsxs("span",{className:"font-medium text-brand-charcoal font-body",children:[((b=s==null?void 0:s.items)==null?void 0:b.length)||0," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-brand-charcoal/10",children:[e.jsx("span",{className:"text-brand-charcoal/70 font-body",children:"Site:"}),e.jsx("span",{className:"font-medium text-brand-charcoal font-body text-right",children:((f=s==null?void 0:s.customerInfo)==null?void 0:f.site)||"Construction Site"})]}),e.jsxs("div",{className:"flex justify-between items-start py-2",children:[e.jsx("span",{className:"text-brand-charcoal/70 font-body",children:"Delivery:"}),e.jsx("span",{className:"font-medium text-brand-charcoal font-body text-right max-w-xs",children:(s==null?void 0:s.delivery_location)||((u=s==null?void 0:s.customerInfo)==null?void 0:u.address)||"Delivery Address"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-brand-charcoal font-body",children:"Items Requested:"}),e.jsx("div",{className:"space-y-2",children:((j=s==null?void 0:s.items)==null?void 0:j.map((t,a)=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-brand-charcoal/5 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-brand-charcoal text-sm font-body",children:t.material_name}),t.sub_type&&e.jsx("div",{className:"text-xs text-brand-charcoal/70 font-body",children:t.sub_type}),t.dimensions&&e.jsxs("div",{className:"text-xs text-brand-charcoal/70 font-body",children:["Size: ",t.dimensions]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-medium text-brand-charcoal font-body",children:["Qty: ",t.quantity]})})]},a)))||e.jsx("div",{className:"text-brand-charcoal/70 text-sm font-body italic",children:"No items found"})})]})]}),e.jsxs(r,{className:"p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-brand-charcoal mb-4 font-heading",children:"Selected Vendors"}),n.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-brand-charcoal/70 text-sm font-body mb-4",children:["Quotes requested from ",n.length," vendor",n.length!==1?"s":"",":"]}),e.jsx("div",{className:"space-y-3",children:n.map((t,a)=>{var l;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-functional-success/10 rounded-lg border border-functional-success/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-functional-success rounded-full flex items-center justify-center",children:e.jsx(d,{className:"w-4 h-4 text-brand-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-brand-charcoal font-body",children:t.name}),e.jsx("div",{className:"text-xs text-brand-charcoal/70 font-body",children:((l=t.specialties)==null?void 0:l.join(", "))||t.type})]})]}),t.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm font-medium text-brand-charcoal font-body",children:t.rating}),e.jsx("svg",{className:"w-4 h-4 text-functional-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]},a)})})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-12 h-12 bg-functional-success/20 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(y,{className:"w-6 h-6 text-functional-success"})}),e.jsx("p",{className:"text-brand-charcoal/70 font-body",children:"Quote request sent to available vendors"})]})]})]}),e.jsxs(r,{className:"p-4 sm:p-6 mb-8",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-brand-charcoal mb-4 font-heading",children:"What happens next?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-functional-success/20 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-functional-success font-bold font-heading",children:"1"})}),e.jsx("h3",{className:"font-medium text-brand-charcoal mb-2 font-body",children:"Vendors Review"}),e.jsx("p",{className:"text-sm text-brand-charcoal/70 font-body",children:"Selected vendors will review your requirements and prepare quotes"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-functional-success/20 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-functional-success font-bold font-heading",children:"2"})}),e.jsx("h3",{className:"font-medium text-brand-charcoal mb-2 font-body",children:"Quotes Sent"}),e.jsx("p",{className:"text-sm text-brand-charcoal/70 font-body",children:"You'll receive competitive quotes directly on WhatsApp"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-functional-success/20 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-functional-success font-bold font-heading",children:"3"})}),e.jsx("h3",{className:"font-medium text-brand-charcoal mb-2 font-body",children:"Choose & Order"}),e.jsx("p",{className:"text-sm text-brand-charcoal/70 font-body",children:"Compare quotes and place your order with the best vendor"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sticky bottom-0 bg-brand-white/95 backdrop-blur-sm py-4 -mx-4 px-4 border-t border-brand-charcoal/20 sm:border-t-0 sm:bg-transparent sm:relative sm:py-0 sm:mx-0",children:[e.jsxs(g,{variant:"outline",className:"flex-1 h-12 text-base border-brand-charcoal/30 hover:bg-brand-charcoal/5",onClick:()=>o(-1),children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(g,{onClick:q,className:"flex-1 bg-functional-success hover:bg-functional-success/90 text-brand-white h-12 text-base font-medium font-body",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to WhatsApp"]})]})]})]})},V=c.memo(B);export{V as default};
